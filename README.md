# 🎆 moda 幸運抽獎工具

一個具有 **震撼 3D 爆炸粒子動畫** 的極致抽獎體驗，融合專業品牌設計與超級視覺特效。

## 🚀 線上體驗
**Demo：** https://iim0663418.github.io/lucky_draw_tool/

## ✨ 特色亮點

### 💥 **超級爆炸視覺體驗**
- **3D 爆炸粒子系統**：多種粒子類型（星星、火花、彩色碎片）
- **螢幕震動效果**：多層次 Camera Shake 營造震撼感
- **全螢幕閃光**：白金色漸層爆炸閃光
- **衝擊波擴散**：金色圓環衝擊波與放射狀爆發
- **彩虹色爆炸**：5 種顏色粒子同心圓擴散

### 🎨 **3D 視覺革新**
- **光點粒子系統**：金色發光粒子替代卡片噴飛，避免渲染限制
- **物理擬真動畫**：重力、拋物線軌跡、彈跳著陸效果
- **CSS3D + WebGL 混合渲染**：超清晰文字 + 高效能 3D 效果
- **智慧佈局算法**：自動計算最佳卡牌排列與縮放
- **moda 品牌設計**：白色文字 + 金色背景 + 強烈光暈效果

### 🎯 **核心功能**
- **智慧抽獎算法**：基於 SHA-256 的可重現抽獎結果
- **多人同時抽獎**：支援同時抽出多位中獎者
- **重複中獎控制**：可選擇是否允許重複中獎
- **歷史記錄管理**：完整的抽獎歷史與分頁瀏覽
- **即時剩餘名單**：動態顯示尚未中獎的參與者

### 🌟 **沉浸式體驗**
- **載入動畫系統**：moda 品牌色載入畫面 + 互動提示
- **多階段爆炸序列**：初始大爆炸 → 連續震動 → 最終卡片顯現
- **動態間隔調整**：前幾張更快噴出，營造密集爆發感
- **卡片脈動效果**：顯現後的優雅脈動動畫
- **響應式設計**：完美適配各種螢幕尺寸

## 🛠️ 技術架構

### 前端技術棧
- **3D 引擎**：Three.js (WebGL + CSS3DRenderer)
- **動畫系統**：TWEEN.js 補間動畫庫
- **粒子系統**：自建爆炸粒子引擎
- **UI 框架**：Bootstrap 5 響應式設計
- **特效庫**：Canvas Confetti 慶祝動畫
- **現代 CSS**：CSS Custom Properties + 進階動畫

### 核心特性
- **超高品質渲染**：4K 材質 + 各向異性過濾
- **物理模擬**：重力、阻力、碰撞檢測
- **記憶體優化**：智慧資源管理與自動清理
- **效能優化**：deltaTime 精確計算 + 硬體加速
- **跨瀏覽器相容**：支援所有現代瀏覽器

## 📁 專案結構

```
lucky_draw_tool/
├── index.html          # 主頁面
├── css/
│   └── style.css       # 主題樣式與爆炸動畫效果
├── js/
│   └── script.js       # 3D 引擎、粒子系統與核心邏輯
└── README.md          # 專案說明
```

## 🎮 使用說明

### 基本操作
1. **設定參與者**：在文字框中每行輸入一位參與者姓名
2. **設定獎項**：輸入抽獎品項名稱
3. **配置參數**：
   - 得獎人數（預設 1 人）
   - 亂數種子（可選，用於結果重現）
   - 重複中獎設定
4. **享受爆炸**：點擊「開始抽獎」體驗震撼的 3D 爆炸動畫

### 進階功能
- **歷史記錄篩選**：依品項快速查找過往抽獎
- **主題切換**：右下角按鈕切換日/夜間模式
- **結果重現**：使用相同種子可重現抽獎結果

## 🔧 部署與安裝

### GitHub Pages 部署
1. Fork 此專案到您的 GitHub 帳號
2. 在 Settings > Pages 中選擇 `main` 分支
3. 等待部署完成，訪問 `https://username.github.io/lucky_draw_tool/`

### 本地開發
```bash
git clone https://github.com/iim0663418/lucky_draw_tool.git
cd lucky_draw_tool
# 使用任何 HTTP 伺服器，例如：
python -m http.server 8000
# 或
npx serve .
```

## 🎆 最新更新 (v4.0) - 超級爆炸版

### 💥 **革命性爆炸系統**
- **多種粒子類型**：
  - 星星粒子 (40%)：五角星形狀，金色閃爍
  - 火花粒子 (30%)：橙紅色錐形，發光效果  
  - 彩色碎片 (30%)：隨機顏色立方體
- **物理模擬**：重力、阻力、旋轉、生命週期管理
- **多層爆炸**：主爆炸 + 第二波 + 第三波連續震撼

### 📳 **螢幕震動技術**
- **3D 全方向震動**：X、Y、Z 軸隨機偏移
- **強度遞減**：0.15 → 0.08 → 0.05 震動強度
- **時間衰減**：震動強度隨時間自然衰減
- **Camera Shake**：攝影機位置實時震動

### 🌈 **背景爆炸特效**
- **螢幕閃光**：白金色漸層全螢幕閃爍
- **衝擊波環**：金色圓環快速擴散
- **放射線爆發**：16 條放射狀光線
- **彩虹色爆炸**：5 種顏色粒子同心圓擴散

### ✨ **光點粒子革新**
- **物理擬真軌跡**：拋物線噴射 + 重力下降 + 彈跳著陸
- **發光效果**：金色發光球體 + 光暈 + 軌跡追蹤
- **光點→卡片轉換**：平滑過渡避免卡片分離問題
- **隨機偏移**：每個光點獨特的噴射路徑

### 🎨 **視覺品質提升**
- **moda 品牌優化**：
  - 卡片文字改為白色 + 強烈陰影
  - Logo 圓形增強光暈效果
  - 字體加粗 + 增大尺寸
- **多階段卡片動畫**：快速放大 → 回彈 → 脈動效果
- **動態間隔**：前 3 張 150ms，後續 200ms
- **CSS 動畫庫**：pulse-glow、text-glow、card-vibrate 等

### ⚡ **性能優化**
- **deltaTime 系統**：精確的時間管理
- **自動資源清理**：防止記憶體洩漏
- **統一動畫循環**：集成所有效果更新
- **優化載入時間**：縮短各階段等待時間

## ⚙️ 自訂設定

### 爆炸效果調整
```javascript
// js/script.js - 爆炸粒子數量
const mainExplosion = createExplosionParticles(position, 40);  // 主爆炸
const secondWave = createExplosionParticles(position, 25);     // 第二波
const thirdWave = createExplosionParticles(position, 15);      // 第三波
```

### 震動強度設定
```javascript
// 主要震動效果
triggerCameraShake(0.15, 0.8);  // 強度, 持續時間
triggerCameraShake(0.08, 0.3);  // 第二波
triggerCameraShake(0.05, 0.2);  // 第三波
```

### 動畫時間調整
```javascript
// 動態間隔設定
const baseDelay = index < 3 ? 150 : 200;  // 前3張更快
const delay = index * baseDelay;
```

## 🌟 技術亮點

### 創新解決方案
1. **光點粒子系統**：解決 BoxGeometry 面分離問題
2. **物理模擬**：真實的重力和拋物線軌跡
3. **混合渲染**：WebGL + CSS3D 發揮各自優勢
4. **資源管理**：完善的生命週期控制

### 視覺技術
1. **多層光暈**：box-shadow + filter + emissive
2. **粒子多樣性**：星星 + 火花 + 碎片
3. **色彩豐富**：5 種彩虹色粒子
4. **動畫層次**：爆炸 → 震動 → 閃光 → 衝擊波

## 🤝 貢獻指南

歡迎提交 Issue 和 Pull Request！

### 開發環境
- 支援現代瀏覽器（Chrome 90+、Firefox 88+、Safari 14+）
- 需要 WebGL 與 CSS3D 支援
- 建議使用支援 ES6+ 的開發環境

### 提交規範
- 遵循 Conventional Commits 規範
- 包含適當的測試與文件更新
- 確保跨瀏覽器相容性

## 📄 授權條款

本專案採用 [Apache-2.0 License](LICENSE)，允許自由使用、修改與再散布。

## 🙏 特別感謝

- [PDIS 抽籤工具](https://shuffler.pdis.tw) - 核心演算法靈感來源
- [Three.js](https://threejs.org/) - 3D 渲染引擎
- [TWEEN.js](https://github.com/tweenjs/tween.js/) - 動畫補間庫
- [Bootstrap](https://getbootstrap.com/) - UI 框架支援

---

**🎆 體驗前所未有的爆炸感抽獎！🎆**

*讓每一次抽獎都成為視覺盛宴，讓每一位中獎者都在震撼中誕生！*